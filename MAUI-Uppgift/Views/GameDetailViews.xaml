<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:MAUI_Uppgift.ViewModels"
             xmlns:controllers="clr-namespace:MAUI_Uppgift.Views.Controls"
             x:DataType="viewmodels:GameItemViewModel"
             x:Class="MAUI_Uppgift.Views.GameDetailViews">
    <ContentView.Resources>

    </ContentView.Resources>
    <ScrollView>
    <VerticalStackLayout>

        <Border Style="{StaticResource TeamDetailsBorder}">
        <Grid RowDefinitions="Auto,60,Auto,auto,auto" 
              ColumnDefinitions="*,*,*" 
              Padding="8">

            <Label Text="{Binding DisplayDate}"
                   Grid.Row="0" Grid.ColumnSpan="3"
                   HorizontalTextAlignment="Center"
                   FontAttributes="Bold"/>

            <Label Text="{Binding Channel}"
                   Grid.Row="2" Grid.ColumnSpan="3"
                   HorizontalTextAlignment="Center"
                   Opacity="0.7"/>

            <Image Source="{Binding AwayTeamLogo}"
                   Grid.Row="1" Grid.Column="0"
                   WidthRequest="60" HeightRequest="60"
                   HorizontalOptions="Center"/>

            <Image Source="{Binding HomeTeamLogo}"
                   Grid.Row="1" Grid.Column="2"
                   WidthRequest="60" HeightRequest="60"
                   HorizontalOptions="Center"/>

            <HorizontalStackLayout Grid.Row="1" Grid.Column="1"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center">
                <Label Text="{Binding AwayTeamScore}" 
                       FontAttributes="Bold" 
                       FontSize="Large"/>
                <Label Text=" - " 
                       FontSize="Large" 
                       FontAttributes="Bold"/>
                <Label Text="{Binding HomeTeamScore}" 
                       FontAttributes="Bold" 
                       FontSize="Large"/>
            </HorizontalStackLayout>
            <Label Grid.Row="3" 
                       Grid.ColumnSpan="3" 
                       Text="Period stats" 
                       FontAttributes="Bold" 
                       FontSize="Medium" 
                       HorizontalTextAlignment="Center" 
                       VerticalTextAlignment="Center" 
                       Padding="8" 
                       Margin="20 0 0 0"/>
            <CollectionView Grid.Row="4"
                            Grid.ColumnSpan="3"
                            ItemsSource="{Binding Periods}"
                            SelectionMode="None">

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="viewmodels:PeriodItemViewModel">
                        <Grid ColumnDefinitions="*, 48,16,48,*" 
                              RowDefinitions="auto,auto"
                              Padding="12,8"    
                              ColumnSpacing="8">
                            
                            <BoxView Grid.ColumnSpan="5"
                                     HeightRequest="1"
                                     Opacity="0.15"
                                     Margin="0,0,0,16"/>
                            <Label Text="{Binding Name}"
                                   Grid.Row="1"
                                   FontSize="Medium" 
                                   FontAttributes="Bold" 
                                   VerticalTextAlignment="Center"/>
                            
                            <Label Text="{Binding AwayScore}" 
                                   Grid.Column="1"
                                   Grid.Row="1"
                                   FontSize="Medium" 
                                   FontAttributes="Bold" 
                                   HorizontalTextAlignment="Center"/>
                            
                            <Label Text="-" 
                                   Grid.Column="2"
                                   Grid.Row="1"
                                   HorizontalTextAlignment="Center"                                   
                                   FontAttributes="Bold" 
                                   FontSize="Medium" />
                            
                            <Label Text="{Binding HomeScore}" 
                                   Grid.Column="3" 
                                   Grid.Row="1"
                                   HorizontalTextAlignment="Center"
                                   FontAttributes="Bold" 
                                   FontSize="Medium" />

                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>
        </Border>
    </VerticalStackLayout>
    </ScrollView>

</ContentView>
